{% extends 'layouts/base.html' %}
{% block title %}Propietario | Catalogo{% endblock %}
{% block content %}
  <!--------------------MODALES ATRIBUTO------------------->
<div class="modal fade" id="cambiologo" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">CAMBIAR LOGO</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">

        <div class="text-center">
            <img id="logoactual" src="{{ url_for('static', filename='img/avatar.png') }}" class="profile-user-img img-fluid img-circle">
        </div>

        <div class="text-center">
            <b id="nombre_logo">
            </b>
        </div>

        <div class="alert alert-success text-center" id="edit" style='display:none;'> 
            <span><i class="fas fa-check m-1"></i>El logo se edito</span>
        </div>
        <div class="alert alert-danger text-center" id="noedit" style='display:none;'> 
            <span><i class="fas fa-times m-1"></i>Formato no aceptado</span>
        </div>

        <form id="form-logo" enctype="multipart/form-data">

            <div class="input-group mb-3 ml-5 mt-2">
                <input type="file" name="photo" class="input-group">
                <input type="hidden" name="funcion"id="funcion">
                <input type="hidden" name="id_logo_lab"id="id_logo_lab">
            </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cerrar</button>
        <button type="submit" class="btn bg-gradient-primary">Guardar</button>
        </form>
      </div>
    </div>
  </div>
</div>
<div class="modal fade" id="crearlaboratorio" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
        <div class="card card-success">
            <div class="card-header">
                <h3 class="card-title">Crear Laboratorio</h3>
                <button data-dismiss="modal"aria-label="close"class="close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="card-body">
              <div class="alert alert-success text-center" id="add-laboratorio" style='display:none;'> 
                <span><i class="fas fa-check m-1"></i>Se agrego correctamente</span>
              </div>
              <div class="alert alert-danger text-center" id="noadd-laboratorio" style='display:none;'> 
                  <span><i class="fas fa-times m-1"></i>El tipo ya esta en uso</span>
              </div>
              <div class="alert alert-success text-center" id="edit-lab" style='display:none;'> 
                <span><i class="fas fa-check m-1"></i>Se edito correctamente</span>
              </div>
                <form id="form-crear-laboratorio">
                    <div class="form-group">
                        <label for="nombre-laboratorio">Nombres</label>
                        <input id="nombre-laboratorio"type="text" class="form-control"placeholder="Ingresar Nombre"required>
                        <input type="hidden"id="id_editar_tip">
                    </div>
                                   
            </div>
            <div class="card-footer">
                <button type="submit"class="btn bg-gradient-primary float-right m-1">Guardar</button>        
                <button type="button"data-dismiss="modal"class="btn bg-outline-secundary float-right m-1">Close</button>
                </form>
            </div>
        </div>

    </div>
  </div>
</div>
<div class="modal fade" id="creartipo" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
        <div class="card card-success">
            <div class="card-header">
                <h3 class="card-title">Crear Tipo</h3>
                <button data-dismiss="modal"aria-label="close"class="close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="card-body">
            <div class="alert alert-success text-center" id="add-tipo" style='display:none;'> 
                <span><i class="fas fa-check m-1"></i>Se agrego correctamente</span>
              </div>
              <div class="alert alert-danger text-center" id="noadd-tipo" style='display:none;'> 
                  <span><i class="fas fa-times m-1"></i>El laboratorio ya esta en uso</span>
              </div>
              <div class="alert alert-success text-center" id="edit-tip" style='display:none;'> 
                <span><i class="fas fa-check m-1"></i>Se edito correctamente</span>
              </div>
                <form id="form-crear-tipo">
                    <div class="form-group">
                        <label for="nombre-tipo">Nombres</label>
                        <input id="nombre-tipo"type="text" class="form-control"placeholder="Ingresar Nombre"required>
                        <input type="hidden"id="id_editar_tip">
                    </div>
                                   
            </div>
            <div class="card-footer">
                <button type="submit"class="btn bg-gradient-primary float-right m-1">Guardar</button>        
                <button type="button"data-dismiss="modal"class="btn bg-outline-secundary float-right m-1">Close</button>
                </form>
            </div>
        </div>

    </div>
  </div>
</div>
<div class="modal fade" id="crearpresentacion" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
        <div class="card card-success">
            <div class="card-header">
                <h3 class="card-title">Crear Presentación</h3>
                <button data-dismiss="modal"aria-label="close"class="close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="card-body">
              <div class="alert alert-success text-center" id="add-pre" style='display:none;'> 
                <span><i class="fas fa-check m-1"></i>Se agrego correctamente</span>
              </div>
              <div class="alert alert-danger text-center" id="noadd-pre" style='display:none;'> 
                  <span><i class="fas fa-times m-1"></i>El presentacion ya esta en uso</span>
              </div>
              <div class="alert alert-success text-center" id="edit-pre" style='display:none;'> 
                <span><i class="fas fa-check m-1"></i>Se edito correctamente</span>
              </div>
                <form id="form-crear-presentacion">
                    <div class="form-group">
                        <label for="nombre-presentacion">Nombres</label>
                        <input id="nombre-presentacion"type="text" class="form-control"placeholder="Ingresar Nombre"required>
                        <input type="hidden"id="id_editar_pre">
                    </div>
                                   
            </div>
            <div class="card-footer">
                <button type="submit"class="btn bg-gradient-primary float-right m-1">Guardar</button>        
                <button type="button"data-dismiss="modal"class="btn bg-outline-secundary float-right m-1">Close</button>
                </form>
            </div>
        </div>

    </div>
  </div>
</div>
  <!---------------------MODALES INFOPRODUCTO---------------->
<div class="modal fade" id="crearproducto" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
        <div class="card card-success">
            <div class="card-header">
                <h3 class="card-title">Crear Producto</h3>
                <button data-dismiss="modal"aria-label="close"class="close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="card-body">
              <div class="alert alert-success text-center" id="add" style='display:none;'> 
                <span><i class="fas fa-check m-1"></i>Se agrego correctamente</span>
              </div>
              <div class="alert alert-danger text-center" id="noadd" style='display:none;'> 
                  <span><i class="fas fa-times m-1"></i>El producto ya existe</span>
              </div>
              <div class="alert alert-success text-center" id="edit_prod" style='display:none;'> 
                  <span><i class="fas fa-check m-1"></i>Se edito correctamente</span>
              </div>
                <form id="form-crear-producto">
                    <div class="form-group">
                        <label for="nombre_producto">Nombres</label>
                        <input id="nombre_producto"type="text" class="form-control"placeholder="Ingresar Nombre"required>
                    </div>
                    <div class="form-group">
                        <label for="concentracion">Concentración</label>
                        <input id="concentracion"type="text" class="form-control"placeholder="Ingresar Concentración">
                    </div>
                    <div class="form-group">
                        <label for="adicional">Adicional</label>
                        <input id="adicional"type="text" class="form-control"placeholder="Ingresar Adicional">
                    </div>
                    <div class="form-group">
                        <label for="precio">Precio</label>
                        <input id="precio"type="number" step="any"class="form-control"value="1"placeholder="Ingresar Precio"required>
                    </div>
                    <div class="form-group">
                        <label for="laboratorio">Laboratorio</label>
                        <Select name="laboratorio"id="modal_laboratorio"class="form-control select2"style="width:100%"></Select>
                    </div>
                    <div class="form-group">
                        <label for="tipo">Tipo</label>
                        <Select name="tipo"id="modal_tipo"class="form-control select2"style="width:100%"></Select>
                    </div>
                    <div class="form-group">
                        <label for="presentacion">Presentación</label>
                        <Select name="presentacion"id="modal_presentacion"class="form-control select2"style="width:100%"></Select>
                    </div>
                    <input type="hidden"id="id_edit_prod">
                
            </div>
            <div class="card-footer">
                <button type="submit"class="btn bg-gradient-primary float-right m-1">Guardar</button>        
                <button type="button"data-dismiss="modal"class="btn bg-outline-secundary float-right m-1">Close</button>
                </form>
            </div>
        </div>

    </div>
  </div>
</div>
<div class="modal fade" id="cambiologoip" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">CAMBIAR LOGO</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="modal-body">

        <div class="text-center">
            <img id="logoactual_ip" src="{{ url_for('static', filename='img/avatar.png') }}" class="profile-user-img img-fluid img-circle">
        </div>

        <div class="text-center">
            <b id="nombre_logoip">
            </b>
        </div>

        <div class="alert alert-success text-center" id="editip" style='display:none;'> 
            <span><i class="fas fa-check m-1"></i>El logo se edito</span>
        </div>
        <div class="alert alert-danger text-center" id="noeditip" style='display:none;'> 
            <span><i class="fas fa-times m-1"></i>Formato no aceptado</span>
        </div>

        <form id="form-logo-ip" enctype="multipart/form-data">

            <div class="input-group mb-3 ml-5 mt-2">
                <input type="file" name="photo" class="input-group">
                <input type="hidden" name="funcion"id="funcionip">
                <input type="hidden" name="id_logo_prod"id="id_logo_prod">
                <input type="hidden" name="avatar"id="avatarip">
            </div>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cerrar</button>
        <button type="submit" class="btn bg-gradient-primary">Guardar</button>
        </form>
      </div>
    </div>
  </div>
</div>
  <!----------------------MODELES LOTE-------------->
<div class="modal fade" id="crearlote" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
        <div class="card card-success">
            <div class="card-header">
                <h3 class="card-title">Crear Lote</h3>
                <button data-dismiss="modal"aria-label="close"class="close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="card-body">
              <div class="alert alert-success text-center" id="add-lote" style='display:none;'> 
                <span><i class="fas fa-check m-1"></i>Se agrego correctamente</span>
              </div>
                <form id="form-crear-lote">
                    <div class="form-group">
                        <label for="nombre_producto_lote">Producto</label>
                        <label id="nombre_producto_lote">Nombre de producto</label>
                        
                    </div>
                    <div class="form-group">
                        <label for="proveedor">Proveedor</label>
                        <Select name="proveedor"id="proveedor"class="form-control select2"style="width:100%"></Select>
                    </div>
                    <div class="form-group">
                        <label for="stock">Stock</label>
                        <input id="stock"type="text" class="form-control"placeholder="Ingresar stock"required>
                    </div>
                    <div class="form-group">
                        <label for="vencimiento">Vencimiento</label>
                        <input id="vencimiento"type="date" class="form-control"placeholder="Ingresar Vencimiento"required>
                    </div>
                    <input type="hidden"id="id_lote_prod">
                
            </div>
            <div class="card-footer">
                <button type="submit"class="btn bg-gradient-primary float-right m-1">Guardar</button>        
                <button type="button"data-dismiss="modal"class="btn bg-outline-secundary float-right m-1">Close</button>
                </form>
            </div>
        </div>

    </div>
  </div>
</div>
<div class="modal fade" id="editarlote" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
        <div class="card card-success">
            <div class="card-header">
                <h3 class="card-title">Editar Lote</h3>
                <button data-dismiss="modal"aria-label="close"class="close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="card-body">
              <div class="alert alert-success text-center" id="edit-lote" style='display:none;'> 
                <span><i class="fas fa-check m-1"></i>Se agrego correctamente</span>
              </div>
                <form id="form-editar-lote">
                    <div class="form-group">
                        <label for="codigo_lote">Codigo lote : </label>
                        <label id="codigo_lote">codigo lote</label>
                    </div>
                    <div class="form-group">
                        <label for="stocked">Stock : </label>
                        <input id="stocked"type="text" class="form-control"placeholder="Ingresar stock"required>
                    </div>
                    <input type="hidden"id="id_lote_prod_1">
                
            </div>
            <div class="card-footer">
                <button type="submit"class="btn bg-gradient-primary float-right m-1">Guardar</button>        
                <button type="button"data-dismiss="modal"class="btn bg-outline-secundary float-right m-1">Close</button>
                </form>
            </div>
        </div>

    </div>
  </div>
</div>
<div class="content-wrapper">
  <section class="content-header">
    <div class="container-fluid">
      <div class="row mb-2">
        <div class="col-sm-6">
          <h1>Datos de los productos</h1>
        </div>
        <div class="col-sm-6">
          <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a href="{{ url_for('login.catalogo') }}">Home</a></li>
            <li class="breadcrumb-item active">Datos de los productos</li>
          </ol>
        </div>
      </div>
    </div>
  </section>
  <section class="content">
    <div class="container-fluid">
      <!-- Tabs -->
      <div class="card">
        <div class="card-header">
          <ul class="nav nav-pills">
            <li class="nav-item"><a href="#infoproducto" class="nav-link active" data-toggle="tab">InfoProducto</a></li>
            <li class="nav-item"><a href="#atributo" class="nav-link" data-toggle="tab">Atributo</a></li>
            <li class="nav-item"><a href="#lote" class="nav-link" data-toggle="tab">Lote</a></li>
          </ul>
        </div>
        <div class="card-body">
          <div class="tab-content">
            <!-- InfoProducto -->
            <div class="tab-pane active" id="infoproducto">
              <div class="card card-success">
                <div class="card-header">
                  <div class="card-title">
                    Buscar Producto
                    <button id="bcp" type="button" data-toggle="modal" data-target="#crearproducto" class="btn bg-gradient-primary btn-sm m-2">Crear Producto</button>
                    <input type="hidden" id="tipo_usuario" value="{{ tipo_usuario }}">
                  </div>
                  <div class="input-group">
                    <input id="buscar-producto" type="text" class="form-control float-left" placeholder="Ingrese Nombre">
                    <div class="input-group-append">
                      <button class="btn btn-default"><i class="fas fa-search"></i></button>
                    </div>
                  </div>
                </div>
                <div id="productos" class="card-body row d-flex align-items-stretch"></div>
              </div>
            </div>
            <!-- Atributo Tabs -->
            <div class="tab-pane"id="atributo">
                                    <div class="container-fluid">
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="card">
                                                    <div class="card-header ">
                                                    <ul class="nav nav-pills">
                                                            <li class="nav-item"><a href="#laboratorio" class="nav-link active" data-toggle="tab">Laboratorio</a></li>
                                                            <li class="nav-item"><a href="#tipo" class="nav-link" data-toggle="tab">Tipo</a></li>
                                                            <li class="nav-item"><a href="#presentacion" class="nav-link" data-toggle="tab">Presentación</a></li>
                                                    </ul>
                                                    </div>
                                                    <div class="card-body p-0">
                                                    <div class="tab-content">
                                                        <div class="tab-pane active"id="laboratorio">
                                                            <div class="card card-success">
                                                                <div class="card-header">
                                                                    <div class="card-title">Buscar Laboratorio <button type="button" data-toggle="modal" data-target="#crearlaboratorio"class=" btn bg-gradient-primary btn-sm m-2">Crear Laboratorio</button></div>
                                                                        <div class="input-group">
                                                                            <input id="buscar-laboratorio"type="text"class="form-control float-left"placeholder="Ingrese Nombre">
                                                                            <div class="input-group-append">
                                                                                <button class="btn btn-default"><i class="fas fa-search"></i></button>
                                                                            </div>
                                                                        </div>
                                                                </div>
                                                                <div class="card-body p-0 table-responsive">
                                                                    <table class="table table-hover text-nowrap">
                                                                        <thead class="table-success">
                                                                            <tr>
                                                                                <th>Accion</th>
                                                                                <th>Logo</th>
                                                                                <th>Laboratorio</th>
                                                                                
                                                                            </tr> 
                                                                        </thead>
                                                                        <tbody class="table-active"id="laboratorios">

                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="card-footer"></div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane"id="tipo">
                                                            <div class="card card-success">
                                                                <div class="card-header">
                                                                    <div class="card-title">Buscar Tipo <button type="button" data-toggle="modal" data-target="#creartipo"class=" btn bg-gradient-primary btn-sm m-2">Crear Tipo</button></div>
                                                                    <div class="input-group">
                                                                            <input id="buscar-tipo"type="text" class="form-control float-left" placeholder="Ingrese Nombre">
                                                                            <div class="input-group-append">
                                                                                <button class="btn btn-default"><i class="fas fa-search"></i></button>
                                                                            </div>
                                                                        </div>
                                                                </div>
                                                                <div class="card-body p-0 table-responsive">
                                                                    <table class="table table-hover text-nowrap">
                                                                        <thead class="table-success">
                                                                            <tr>
                                                                                <th>Accion</th>
                                                                                <th>Tipos</th>
                                                                                
                                                                            </tr> 
                                                                        </thead>
                                                                        <tbody class="table-active"id="tipos">

                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="card-footer"></div>
                                                            </div>
                                                        </div>
                                                        <div class="tab-pane"id="presentacion">
                                                            <div class="card card-success">
                                                                <div class="card-header">
                                                                    <div class="card-title">Buscar Presentación <button type="button" data-toggle="modal" data-target="#crearpresentacion"class=" btn bg-gradient-primary btn-sm m-2">Crear Presentación</button></div>
                                                                    <div class="input-group">
                                                                            <input id="buscar-presentacion"type="text" class="form-control float-left" placeholder="Ingrese Nombre">
                                                                            <div class="input-group-append">
                                                                                <button class="btn btn-default"><i class="fas fa-search"></i></button>
                                                                            </div>
                                                                        </div>
                                                                </div>
                                                                <div class="card-body p-0 table-responsive">
                                                                    <table class="table table-hover text-nowrap">
                                                                        <thead class="table-success">
                                                                            <tr>
                                                                                <th>Accion</th>
                                                                                <th>Presentación</th>
                                                                                
                                                                            </tr> 
                                                                        </thead>
                                                                        <tbody class="table-active"id="presentaciones">

                                                                        </tbody>
                                                                    </table>
                                                                </div>
                                                                <div class="card-footer"></div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    </div>
                                                    
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
            <!-- Lote -->
            <div class="tab-pane" id="lote">
              <div class="card card-success">
                <div class="card-header">
                  <div class="card-title">Buscar Lote</div>
                  <div class="input-group">
                    <input id="buscar-lote" type="text" class="form-control float-left" placeholder="Ingrese Nombre">
                    <div class="input-group-append">
                      <button class="btn btn-default"><i class="fas fa-search"></i></button>
                    </div>
                  </div>
                </div>
                <div id="lotes" class="card-body row d-flex align-items-stretch"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
{% endblock %}

{% block scripts %}
  <script src="{{ url_for('static', filename='js/Laboratorio.js') }}"></script>
  <script src="{{ url_for('static', filename='js/Tipo.js') }}"></script>
  <script src="{{ url_for('static', filename='js/Presentacion.js') }}"></script>
  <script src="{{ url_for('static', filename='js/Productos.js') }}"></script>
  <script src="{{ url_for('static', filename='js/Lote.js') }}"></script>
{% endblock %}